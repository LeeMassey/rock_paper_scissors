<!doctype html>
<html>

<head>

	<meta charset="UTF-8">

	<title>Rock Paper Scissors!</title>

</head>

	<body>

		<div id="container">

			<button id="rock">Rock</button>
			<button id="paper">Paper</button>
			<button id="scissors">Scissors</button>

			<p id="results"></p>
			<p id="score"></p>

		</div>
		
		<script>

			let playerScore = 0, computerScore = 0, ties = 0;	

			const buttons = document.querySelectorAll("button");

			buttons.forEach((button) => {
				button.addEventListener("click", playRound);
			});

			function computerChoice() {
				let choice = ["rock","paper","scissors"];
				return choice[Math.floor(Math.random()*3)];
			}

			function playRound() {
				if (playerScore < 5 && computerScore < 5) {
					let p1 = this.id, p2 = computerChoice();
					let r = "rock", p = "paper", s = "scissors";
					let result;
					if (p1 == p2) {
						result = "It's a tie! Try again!!!";
						ties += 1;
					}
					else if ((p1 == r && p2 == s) || (p1 == p && p2 == r) || (p1 == s && p2 == p)) {
						result = "You win! " + p1.charAt(0).toUpperCase() + p1.slice(1) + " beats " + p2 + "!";
						playerScore += 1;
					}
					else {
						result = "You lose! " + p2.charAt(0).toUpperCase() + p2.slice(1) + " beats " + p1 + "!";
						computerScore += 1;
					}
					document.querySelector("#results").textContent = "Computer picked " + p2 + ". You picked " + p1 + ". " + result;
					document.querySelector("#score").textContent = "Player Score: " + playerScore + " | Computer Score: " + computerScore + " | Ties: " + ties;
				}
			}

		</script>

	</body>

</html>