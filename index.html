<!doctype HTML>
<html>

<head>

	<meta charset="UTF-8">

	<title>Functions!!</title>

</head>

	<body>
		
		<script>

			function computerChoice() {

				let choice = ["rock","paper","scissors"];
				return choice[Math.floor(Math.random()*3)];

			}

			function playerChoice() {

				let choice = prompt("Rock, Paper, or Scissors?");
				choice = choice.toLowerCase();

				if (choice != "rock" && choice != "paper" && choice != "scissors") {
					alert("Not a valid option! Try again.");
					return playerChoice();
				}
				else {
					return choice;
				}

			}

			function playRound() {

				let playerSelection = playerChoice();
				let computerSelection = computerChoice();
				console.log("Computer picked " + computerSelection + "!");
				console.log("Player picked " + playerSelection + "!");
				let p1 = playerSelection, p2 = computerSelection;
				let r = "rock", p = "paper", s = "scissors";
				let result;

				if (p1 == p2) {
					result = "It's a tie! Try again!";
					return playRound();
				}
				else if ((p1 == r && p2 == s) || (p1 == p && p2 == r) || (p1 == s && p2 == p)) {
					result = "You win! " + p1.charAt(0).toUpperCase() + p1.slice(1) + " beats " + p2 + "!";
				}
				else {
					result = "You lose! " + p2.charAt(0).toUpperCase() + p2.slice(1) + " beats " + p1 + "!";
				}
				return result;

			}

			function game() {

				for (i=0;i<5;i++) {
					console.log(playRound());
				}

			}

			game();

		</script>

	</body>

</html>